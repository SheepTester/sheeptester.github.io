{
  "version": 3,
  "sources": ["../src/handle-error.ts", "../src/utils.ts", "../src/inputs.ts", "../src/output.ts", "../src/source.ts", "../index.ts"],
  "sourcesContent": ["let errors = 0\nlet errorCount: HTMLElement | undefined\nlet errorLog: HTMLElement | undefined\n\nfunction handleError (error: string) {\n  if (!errorLog || !errorCount) {\n    errorCount = Object.assign(document.createElement('a'), {\n      className: 'error-count',\n      href: '#errors'\n    })\n    const errorCountWrapper = Object.assign(document.createElement('h2'), {\n      className: 'error-count-wrapper'\n    })\n    errorCountWrapper.append(errorCount)\n    const note = Object.assign(document.createElement('p'), {\n      className: 'error-note',\n      textContent:\n        \"It could be due to a bug, or your input is not the correct format. If you'd like to report the error, please send me the entire error log below.\"\n    })\n    errorLog = Object.assign(document.createElement('pre'), {\n      className: 'error-log'\n    })\n    const wrapper = Object.assign(document.createElement('div'), {\n      className: 'error-wrapper',\n      id: 'errors'\n    })\n    wrapper.append(note, errorLog)\n    document.body.append(errorCountWrapper, wrapper)\n  }\n  errorLog.append(error, '\\n')\n  errors++\n  errorCount.textContent = `${errors} error${errors === 1 ? '' : 's'} occurred`\n}\n\nwindow.onerror = (message, source, line, col, error) => {\n  handleError(\n    error?.stack\n      ? `Uncaught ${error.stack}`\n      : `Uncaught ${\n          error?.name ?? String(error)\n        }: ${message} at ${source}:${line}${col !== undefined ? ':' + col : ''}`\n  )\n}\n\nwindow.addEventListener('unhandledrejection', e => {\n  handleError(\n    e.reason?.stack\n      ? `Uncaught (in promise) ${e.reason.stack}`\n      : e.reason instanceof Error\n      ? `Uncaught (in promise) ${e.reason.constructor.name}: ${e.reason.message}`\n      : String(e.reason)\n  )\n})\n", "/**\n * Based on\n * https://github.com/SheepTester/hello-world/blob/master/questionable-host/gdrive/upload-videos.ts#L17\n *\n * Note: assumes `bytes` is under a terabyte (currently shows 1 TB = 1.00e+3\n * GB).\n */\nexport function displayBytes (bytes: number): string {\n  if (bytes > 1_000_000_000) {\n    return `${(bytes / 1_000_000_000).toPrecision(3)} GB`\n  } else if (bytes > 1_000_000) {\n    return `${(bytes / 1_000_000).toPrecision(3)} MB`\n  } else if (bytes > 1_000) {\n    return `${(bytes / 1_000).toPrecision(3)} kB`\n  } else if (bytes !== 1) {\n    return `${bytes} bytes`\n  } else {\n    return '1 byte'\n  }\n}\n\n/**\n * Removes the extension of the given file name:\n * - `hello.min.js` -> `hello.min`\n * - `hey` -> `hey`\n */\nexport function fileName (name: string): string {\n  const index = name.lastIndexOf('.')\n  return index === -1 ? name : name.slice(0, index)\n}\n", "import { Source } from './source'\nimport { displayBytes, fileName } from './utils'\n\nconst encoder = new TextEncoder()\n\nfunction selectItem<T extends { type: string }> (\n  items: T[],\n  preferredTypes: string[]\n): T {\n  return (\n    items.find(({ type }) =>\n      preferredTypes.some(prefix => type.startsWith(prefix))\n    ) ?? items[0]\n  )\n}\nfunction getDataTransfer (\n  item: DataTransferItem\n): Promise<string | File | null> {\n  return item.kind === 'string'\n    ? new Promise<string>(resolve => item.getAsString(resolve))\n    : Promise.resolve(item.getAsFile())\n}\n\ntype FileInputOptions = {\n  fileName: Element | null\n  input: HTMLInputElement\n  dropTarget: HTMLElement | null\n  pasteTarget: boolean\n  pasteButton: HTMLButtonElement | null\n  defaultPreferredTypes: string[]\n  /** Returns whether the file was accepted. */\n  onFile: (file: File | string) => Promise<boolean | void>\n}\nfunction handleFileInput ({\n  fileName,\n  input,\n  dropTarget,\n  pasteTarget,\n  pasteButton,\n  defaultPreferredTypes,\n  onFile\n}: FileInputOptions): void {\n  const preferredTypes = input.accept\n    ? input.accept.replaceAll('*', '').split(',')\n    : defaultPreferredTypes\n\n  // Lists must be nonempty\n  type FileToHandle =\n    | { type: 'files'; files: ArrayLike<File> }\n    | { type: 'data-transfer'; transfer: DataTransfer }\n    | { type: 'clipboard'; items: { item: ClipboardItem; type: string }[] }\n  async function handleFile (data: FileToHandle): Promise<void> {\n    let file\n    switch (data.type) {\n      case 'files': {\n        file = selectItem(Array.from(data.files), preferredTypes)\n        break\n      }\n      case 'data-transfer': {\n        file = await getDataTransfer(\n          selectItem(Array.from(data.transfer.items), preferredTypes)\n        )\n        break\n      }\n      case 'clipboard': {\n        console.log(data, preferredTypes)\n        const { item, type } = selectItem(data.items, preferredTypes)\n        const blob = await item.getType(type)\n        file = new File([blob], type.replaceAll('/', '_'), {\n          type: blob.type\n        })\n        break\n      }\n    }\n    if (file === null) {\n      return\n    }\n    const fileNameContent =\n      file instanceof File\n        ? `${file.name} \u00B7 ${displayBytes(file.size)}`\n        : `Plain text \u00B7 ${displayBytes(encoder.encode(file).length)}`\n    try {\n      const accepted = (await onFile(file)) ?? true\n      if (accepted && fileName) {\n        fileName.textContent = fileNameContent\n        fileName.classList.remove('file-error')\n      }\n    } catch (error) {\n      if (fileName) {\n        fileName.textContent = fileNameContent + ' \u2014 failed to load'\n        fileName.classList.add('file-error')\n      }\n      throw error\n    }\n  }\n\n  input.addEventListener('change', () => {\n    if (input.files && input.files.length > 0) {\n      handleFile({ type: 'files', files: input.files })\n    }\n    // Reset files array (so can resubmit the same file multiple times)\n    input.value = ''\n  })\n  if (input.dataset.default) {\n    const url = input.dataset.default\n    const name = url.slice(url.lastIndexOf('/') + 1)\n    fetch(url)\n      .then(r => r.blob())\n      .catch(error => {\n        if (fileName) {\n          fileName.textContent = name + ' \u2014 failed to load'\n          fileName.classList.add('file-error')\n        }\n        throw error\n      })\n      .then(blob =>\n        handleFile({ type: 'files', files: [new File([blob], name, blob)] })\n      )\n  }\n\n  dropTarget?.addEventListener('drop', e => {\n    if (e.dataTransfer && e.dataTransfer.items.length > 0) {\n      handleFile({ type: 'data-transfer', transfer: e.dataTransfer })\n    }\n    dropTarget.classList.remove('drag-over')\n    e.preventDefault()\n  })\n  dropTarget?.addEventListener('dragover', e => {\n    dropTarget.classList.add('drag-over')\n    e.preventDefault()\n  })\n  dropTarget?.addEventListener('dragleave', () => {\n    dropTarget.classList.remove('drag-over')\n  })\n\n  if (pasteTarget) {\n    document.addEventListener('paste', e => {\n      if (\n        (e.target instanceof HTMLTextAreaElement ||\n          e.target instanceof HTMLInputElement) &&\n        !e.target.readOnly &&\n        !e.target.disabled\n      ) {\n        return\n      }\n      if (e.clipboardData && e.clipboardData.items.length > 0) {\n        handleFile({ type: 'data-transfer', transfer: e.clipboardData })\n      }\n    })\n  }\n\n  pasteButton?.addEventListener('click', () => {\n    navigator.clipboard\n      .read()\n      .then(items => {\n        const itemsByType = items.flatMap(item =>\n          item.types.map(type => ({ item, type }))\n        )\n        if (itemsByType.length > 0) {\n          handleFile({ type: 'clipboard', items: itemsByType })\n        }\n      })\n      .catch(error => {\n        if (error instanceof DOMException && error.name === 'NotAllowedError') {\n          // Firefox throws this when the user cancels clicking on \"Paste\"\n          console.warn('Failed to read clipboard', error)\n        } else {\n          throw error\n        }\n      })\n  })\n}\n\nexport function handleSingleFileInput (\n  source: Source<File>,\n  input: HTMLInputElement\n): void {\n  input.dataset.ignore = 'true'\n  const dropTarget = input.closest('.reform\\\\:io')\n  const pasteButton = migrateInputControls(dropTarget)\n  handleFileInput({\n    fileName: input.parentElement?.querySelector('.file-name') ?? null,\n    input,\n    dropTarget: dropTarget instanceof HTMLElement ? dropTarget : null,\n    pasteTarget: input.classList.contains('reform:paste-target'),\n    pasteButton,\n    defaultPreferredTypes: [],\n    onFile: async file => {\n      source.handleValue(\n        file instanceof File\n          ? file\n          : new File([file], 'text.txt', { type: 'text/plain' })\n      )\n    }\n  })\n}\n\nexport function handleImageInput (\n  source: Source<CanvasRenderingContext2D>,\n  input: HTMLInputElement\n): void {\n  input.dataset.ignore = 'true'\n  const dropTarget = input.closest('.reform\\\\:io')\n  const pasteButton = migrateInputControls(dropTarget)\n  let maybeCanvas = dropTarget?.querySelector('.input-content canvas')\n  if (maybeCanvas && !(maybeCanvas instanceof HTMLCanvasElement)) {\n    console.warn(maybeCanvas, 'is not a <canvas> element')\n    maybeCanvas = null\n  }\n  const canvas = maybeCanvas ?? document.createElement('canvas')\n  const context = canvas.getContext('2d', {\n    willReadFrequently: !!canvas.dataset.willReadFrequently\n  })\n  if (!context) {\n    throw new TypeError(\n      'Failed to get canvas context for the image input preview.'\n    )\n  }\n  handleFileInput({\n    fileName: input.parentElement?.querySelector('.file-name') ?? null,\n    input,\n    dropTarget: dropTarget instanceof HTMLElement ? dropTarget : null,\n    pasteTarget: input.classList.contains('reform:paste-target') ?? false,\n    pasteButton,\n    defaultPreferredTypes: ['image/*'],\n    onFile: async file => {\n      if (typeof file === 'string') {\n        return false\n      }\n      const url = URL.createObjectURL(file)\n      try {\n        const image = document.createElement('img')\n        image.src = url\n        await new Promise((resolve, reject) => {\n          image.addEventListener('load', resolve)\n          image.addEventListener('error', () =>\n            reject(new TypeError(`Could not load '${file.name}' as image.`))\n          )\n        })\n        canvas.dataset.name = fileName(file.name)\n        canvas.width = image.width\n        canvas.height = image.height\n        context.drawImage(image, 0, 0)\n        source.handleValue(context)\n      } finally {\n        URL.revokeObjectURL(url)\n      }\n    }\n  })\n}\n\nexport function handleVideoInput (\n  source: Source<HTMLVideoElement>,\n  input: HTMLInputElement\n): void {\n  const dropTarget = input.closest('.reform\\\\:io')\n  const pasteButton = migrateInputControls(dropTarget)\n  let maybeVideo = dropTarget?.querySelector('.input-content video')\n  if (maybeVideo && !(maybeVideo instanceof HTMLVideoElement)) {\n    console.warn(maybeVideo, 'is not a <video> element')\n    maybeVideo = null\n  }\n  const video = maybeVideo ?? document.createElement('video')\n  let url: string | undefined\n  handleFileInput({\n    fileName: input.parentElement?.querySelector('.file-name') ?? null,\n    input,\n    dropTarget: dropTarget instanceof HTMLElement ? dropTarget : null,\n    pasteTarget: input.classList.contains('reform:paste-target'),\n    pasteButton,\n    defaultPreferredTypes: ['video/*'],\n    onFile: async file => {\n      if (typeof file === 'string') {\n        return false\n      }\n      if (url) {\n        URL.revokeObjectURL(url)\n      }\n      // Do not revoke URL or rest of video won't load\n      url = URL.createObjectURL(file)\n      video.src = url\n      video.dataset.name = fileName(file.name)\n      await new Promise<void>((resolve, reject) => {\n        video.onloadeddata = () => {\n          if (video.readyState < 2) return\n          resolve()\n        }\n        video.onerror = () =>\n          reject(new TypeError(`Could not load '${file.name}' as video.`))\n      })\n      source.handleValue(video)\n    }\n  })\n}\n\nexport function handleTextInput (\n  source: Source<string>,\n  input: HTMLInputElement\n): void {\n  const wrapper = input.closest('.reform\\\\:io')\n  const pasteButton = migrateInputControls(wrapper)\n  input.dataset.ignore = 'true'\n  const dropTarget = wrapper?.querySelector('.input-controls')\n  const textarea = wrapper?.querySelector('.input-content')\n  handleFileInput({\n    fileName: input.parentElement?.querySelector('.file-name') ?? null,\n    input,\n    dropTarget: dropTarget instanceof HTMLElement ? dropTarget : null,\n    pasteTarget: input.classList.contains('reform:paste-target'),\n    pasteButton,\n    defaultPreferredTypes: ['text/plain'],\n    onFile: async file => {\n      const text = file instanceof File ? await file.text() : file\n      if (textarea instanceof HTMLTextAreaElement) {\n        textarea.value = text\n      }\n      source.handleValue(text)\n    }\n  })\n}\n\nfunction migrateInputControls (\n  wrapper: Element | null | undefined\n): HTMLButtonElement | null {\n  let inputControls = wrapper?.querySelector('.input-controls')\n  if (inputControls instanceof HTMLLabelElement) {\n    const newInputControls = document.createElement('div')\n    newInputControls.classList.add('input-controls')\n    inputControls.classList.remove('input-controls')\n    inputControls.replaceWith(newInputControls)\n    newInputControls.append(inputControls)\n    inputControls = newInputControls\n  }\n\n  if (inputControls && !wrapper?.querySelector('.reform\\\\:paste')) {\n    const pasteButton = document.createElement('button')\n    pasteButton.type = 'button'\n    pasteButton.classList.add('icon', 'icon-paste', 'reform:paste')\n    pasteButton.ariaLabel = 'Paste from clipboard'\n    inputControls.append(pasteButton)\n    return pasteButton\n  }\n\n  return null\n}\n", "import { displayBytes } from './utils'\n\nexport type OutputOptions = {\n  fileName?: Element | null\n  downloadLink?: HTMLAnchorElement | null\n  copyButton?: HTMLElement | null\n  shareButton?: HTMLElement | null\n}\nexport class Output {\n  #file: File | null = null\n  #url: string | null = null\n  #fileName: Element | null\n  #downloadLink: HTMLAnchorElement | null\n\n  constructor ({\n    fileName = null,\n    downloadLink = null,\n    copyButton,\n    shareButton\n  }: OutputOptions) {\n    this.#fileName = fileName\n    this.#downloadLink = downloadLink\n\n    copyButton?.addEventListener('click', () => {\n      if (this.#file) {\n        navigator.clipboard.write([\n          new ClipboardItem({ [this.#file.type]: this.#file })\n        ])\n      }\n    })\n\n    shareButton?.addEventListener('click', async () => {\n      if (this.#file) {\n        if (this.#file.type === 'text/plain' && this.#file.size < 4000) {\n          navigator.share({ text: await this.#file.text() })\n        } else {\n          navigator.share({ files: [this.#file] })\n        }\n      }\n    })\n\n    if (!('share' in navigator)) {\n      shareButton?.remove()\n    }\n  }\n\n  handleFile (file: File): void {\n    this.#file = file\n    if (this.#fileName) {\n      this.#fileName.textContent = `${file.name} \u00B7 ${displayBytes(file.size)}`\n    }\n    if (this.#downloadLink) {\n      if (this.#url) {\n        URL.revokeObjectURL(this.#url)\n      }\n      this.#url = URL.createObjectURL(file)\n      this.#downloadLink.href = this.#url\n      this.#downloadLink.download = file.name\n    }\n  }\n\n  static fromOutputControls (wrapper?: Element | null): Output {\n    let downloadLink = wrapper?.querySelector('.download')\n    if (downloadLink && !(downloadLink instanceof HTMLAnchorElement)) {\n      console.warn(downloadLink, 'is not an <a> element')\n      downloadLink = null\n    }\n    return new Output({\n      fileName: wrapper?.querySelector('.file-name'),\n      downloadLink,\n      copyButton: wrapper?.querySelector('button.icon-copy, .reform\\\\:copy'),\n      shareButton: wrapper?.querySelector('button.icon-share')\n    })\n  }\n}\n", "export class Source<T> {\n  lastValue?: T\n  dependents: ((value: T) => void)[] = []\n\n  handleValue (value: T): void {\n    // TODO: skip if the value is the same\n    this.lastValue = value\n    for (const dependent of this.dependents) {\n      dependent(value)\n    }\n  }\n}\n", "import './reform.css'\nimport './src/handle-error'\nimport {\n  handleImageInput,\n  handleSingleFileInput,\n  handleTextInput,\n  handleVideoInput\n} from './src/inputs'\nimport { Output } from './src/output'\nimport { Source } from './src/source'\n\nconst sources: Record<string, Source<any>> = {}\n\n/**\n * Determines the source type from the element and sets the value if necessary.\n * Called during initialization and by input/change events.\n */\nfunction handleElement (element: unknown): void {\n  if (element instanceof HTMLElement && element.dataset.ignore) {\n    return\n  }\n  if (element instanceof HTMLInputElement) {\n    sources[element.name] ??= new Source()\n    if (\n      element.type === 'number' ||\n      element.type === 'range' ||\n      element.inputMode === 'numeric'\n    ) {\n      if (element.value === '') {\n        return\n      }\n      // valueAsNumber is not available for type=text\n      // https://stackoverflow.com/a/18062487\n      sources[element.name].handleValue(+element.value)\n      const rangeWrapper = element.closest('.range-wrapper')\n      if (rangeWrapper) {\n        let range = element\n        if (element.type === 'range') {\n          const input = rangeWrapper.lastElementChild\n          if (input instanceof HTMLInputElement) {\n            input.value =\n              element.step === 'any' || (element.step && +element.step < 0.1)\n                ? (+element.value).toFixed(2)\n                : element.value\n          }\n        } else {\n          const rangeInput = rangeWrapper.querySelector('[type=\"range\"]')\n          if (rangeInput instanceof HTMLInputElement) {\n            range = rangeInput\n          } else {\n            return\n          }\n          range.value = element.value\n        }\n        const progress =\n          (+element.value - +range.min) / (+range.max - +range.min)\n        range.style.setProperty('--progress', `${progress * 100}%`)\n      }\n    } else if (element.type === 'checkbox') {\n      sources[element.name].handleValue(element.checked)\n    } else if (element.type === 'file') {\n      if (element.files && element.files.length > 0) {\n        sources[element.name].handleValue(Array.from(element.files))\n      }\n    } else if (element.type === 'radio') {\n      if (element.checked) {\n        sources[element.name].handleValue(element.value)\n      }\n    } else {\n      sources[element.name].handleValue(element.value)\n    }\n  } else if (\n    element instanceof HTMLTextAreaElement ||\n    element instanceof HTMLSelectElement\n  ) {\n    sources[element.name] ??= new Source()\n    sources[element.name].handleValue(element.value)\n  }\n}\n\nfor (const input of document.getElementsByClassName('reform:image-input')) {\n  if (!(input instanceof HTMLInputElement)) {\n    continue\n  }\n  sources[input.name] ??= new Source()\n  handleImageInput(sources[input.name], input)\n}\nfor (const input of document.getElementsByClassName('reform:video-input')) {\n  if (!(input instanceof HTMLInputElement)) {\n    continue\n  }\n  sources[input.name] ??= new Source()\n  handleVideoInput(sources[input.name], input)\n}\nfor (const input of document.getElementsByClassName('reform:text-input')) {\n  if (!(input instanceof HTMLInputElement)) {\n    continue\n  }\n  sources[input.name] ??= new Source()\n  handleTextInput(sources[input.name], input)\n}\nfor (const input of document.getElementsByClassName('reform:file-input')) {\n  if (!(input instanceof HTMLInputElement)) {\n    continue\n  }\n  sources[input.name] ??= new Source()\n  handleSingleFileInput(sources[input.name], input)\n}\n\nfor (const form of document.forms) {\n  for (const element of form.elements) {\n    handleElement(element)\n  }\n}\n\ndocument.addEventListener('input', e => handleElement(e.target))\ndocument.addEventListener('change', e => handleElement(e.target))\n\nexport type SourceSpec =\n  | {\n      name: string\n      deps?: string[]\n    }\n  | string\ntype Dep = {\n  name: string\n  reference: boolean\n}\ntype Object = {\n  name: string\n  element: HTMLElement\n  object: HTMLElement | CanvasRenderingContext2D | null\n  deps: Dep[]\n}\nconst objects: Record<string, Object> = {}\n\nfunction findObjectByName (spec: SourceSpec): Object {\n  const name = typeof spec === 'string' ? spec : spec.name\n  if (!objects[name]) {\n    let element = document.getElementById(name)\n    if (!element) {\n      const elements = document.getElementsByName(name)\n      if (elements.length > 1) {\n        console.warn(\n          'More than one element with name',\n          name,\n          Array.from(elements)\n        )\n      }\n      element = elements[0] ?? null\n    }\n    const object =\n      element instanceof HTMLCanvasElement ? element.getContext('2d') : element\n    const deps =\n      (typeof spec !== 'string' && spec.deps) ||\n      element?.dataset.deps?.split(' ') ||\n      []\n    objects[name] = {\n      name,\n      element,\n      object,\n      deps: deps.map(dep =>\n        dep.startsWith('&')\n          ? { name: dep.slice(1), reference: true }\n          : { name: dep, reference: false }\n      )\n    }\n  }\n\n  return objects[name]\n}\n\nexport function on<T> (\n  spec: SourceSpec,\n  callback: (\n    object: HTMLElement | CanvasRenderingContext2D | null,\n    args: Record<string, unknown>\n  ) => Promise<T>\n): void {\n  const { name, element, object, deps } = findObjectByName(spec)\n  sources[name] ??= new Source()\n\n  const args: Record<string, unknown> = {\n    // Call `callback` to return multiple values\n    callback: (value: unknown) => {\n      sources[name].handleValue(value)\n    }\n  }\n\n  const outputControls = element\n    ?.closest('.reform\\\\:io')\n    ?.querySelector('.output-controls')\n  if (outputControls) {\n    const output = Output.fromOutputControls(outputControls)\n    sources[name].dependents.push(\n      file => file instanceof File && output.handleFile(file)\n    )\n  }\n\n  let lastCallId = 0\n  const compute = async () => {\n    if (ready.size === deps.length) {\n      const callId = ++lastCallId\n      const value = await callback(object, args)\n      if (callId !== lastCallId) {\n        return\n      }\n      if (value !== undefined) {\n        sources[name].handleValue(value)\n      }\n    }\n  }\n\n  const ready = new Set<string>()\n  for (const { name: dep, reference } of deps) {\n    if (reference) {\n      const { object } = findObjectByName(dep)\n      args[dep] = object\n      ready.add(dep)\n    } else {\n      sources[dep] ??= new Source()\n      if (sources[dep].lastValue !== undefined) {\n        args[dep] = sources[dep].lastValue\n        ready.add(dep)\n      }\n      sources[dep].dependents.push(value => {\n        args[dep] = value\n        ready.add(dep)\n        compute()\n      })\n    }\n  }\n  compute()\n}\n"],
  "mappings": "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",
  "names": ["errors", "errorCount", "errorLog", "handleError", "error", "errorCountWrapper", "note", "wrapper", "message", "source", "line", "col", "displayBytes", "bytes", "fileName", "name", "index", "encoder", "selectItem", "items", "preferredTypes", "type", "prefix", "getDataTransfer", "item", "resolve", "handleFileInput", "fileName", "input", "dropTarget", "pasteTarget", "pasteButton", "defaultPreferredTypes", "onFile", "handleFile", "data", "file", "blob", "fileNameContent", "displayBytes", "error", "url", "name", "r", "e", "itemsByType", "handleSingleFileInput", "source", "migrateInputControls", "handleImageInput", "maybeCanvas", "canvas", "context", "image", "reject", "handleVideoInput", "maybeVideo", "video", "handleTextInput", "wrapper", "textarea", "text", "inputControls", "newInputControls", "Output", "_Output", "#file", "#url", "#fileName", "#downloadLink", "fileName", "downloadLink", "copyButton", "shareButton", "file", "displayBytes", "wrapper", "Source", "value", "dependent", "sources", "handleElement", "element", "Source", "rangeWrapper", "range", "input", "rangeInput", "progress", "handleImageInput", "handleVideoInput", "handleTextInput", "handleSingleFileInput", "form", "objects", "findObjectByName", "spec", "name", "elements", "object", "deps", "dep", "on", "callback", "args", "value", "outputControls", "output", "Output", "file", "lastCallId", "compute", "ready", "callId", "reference"]
}
